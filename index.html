<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>34.组件_Prop验证</title>
    <script src="./axios.js"></script>
    <script src="./vue.js"></script>


</head>

<body>
    <div id="app">
        <my-cmp ></my-cmp>
    </div>

    <script>
        Vue.component('my-cmp', {
            // prop验证
            props: {
                //prop基础验证
                //list: Array, //list传入需要是数组，不是数组就报错
                //list: [Array,String], //list传入需要是数组或String，不是就报错

                //prop高级验证
                list: {
                    type: Array, //检查是否为给定的类型
                    default() {//为该prop指定的一个默认值，对象或数组的默认值必须从一个工厂函数返回，如default(){return {a:1, b:10}}
                        return [
                            {name: 'haha'},
                            {name: 'heihei'}
                        ]
                    }, 
                 //   required: true, //定义该prop是否是必填项
                  //  validator(prop){//自定义验证函数，该prop的值会作为唯一的参数代入，若函数返回一个falsy假的值(0/undefined/null/false)，就代表验证失败
                    //     return prop.length < 140;
                    // }
                }
            },
            template: `
                <ul>
                    <li
                        v-for="person in list"
                        :key="person.name "
                    >{{ person.name }}</li>
                </ul>
            `
        })


        const vm = new Vue({
            el: '#app',
            data: {
                list: [
                    {name: '杉杉'},
                    {name: 'duyi'}
                ]
            }
        })
    </script>
</body>

</html>