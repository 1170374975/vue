<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>35.组件_单向数据流</title>
    <script src="./axios.js"></script>
    <script src="./vue.js"></script>


</head>

<body>
    <div id="app">
        father: {{ count }}
        <button @click="count++">father点击+1</button>
        <my-count :count="count"></my-count>

        father: {{ array }}
        <button @click="array.push(4)">father点击数组改变</button>
        <my-array :array="array"></my-array>
    </div>

    <script>
        //数组组件，改变prop需要深度克隆
        Vue.component('my-array', {
            props: {
                array: Array
            },
            data() {
                return {
                    myArray: [...this.array]
                }
            },
            template: `
                <div>son: {{ myArray }}
                    <button @click="myArray.push(4)">son点击+1</button>    
                </div>
            `
        })


        Vue.component('my-count', {
            props: {
                count: Number
            },
            //如果要改变prop的值，就定义一个本地data
            data() { 
                return {
                    myCount: this.count
                }
            },
            template:  `
                <div>son: {{ myCount }}
                    <button @click="myCount++">son点击+1</button>    
                </div> 
            ` 
        })
        
        const vm = new Vue({
            el: '#app',
            data: {
                count: 123,
                array: [1, 2, 3]
            }
        })
    </script>
</body>

</html>